@using StepEbay.Main.Client.Base.Components.Auth
@using StepEbay.Main.Client.Base.Pages
@inherits LayoutComponentBase

<div class="page">

    <!-- *************************************** -->
    <!--start nav-->
    <div id="menu" class="container-fluid">
        <div class="container">
            <!-- ** 1st row ** -->
            <div class="row">
                <!-- logo -->
                <div class="col-3 col-sm-3 col-md-2 col-lg-2 col-xl-2 col-xxl-2">
                    <a href='#'><div class="logo"></div></a>
                </div>
                <div class="d-none d-md-block col-sm-1 col-md-1 col-lg-1 col-xl-1 d-xxl-none">
                    &nbsp;
                </div>
                <!-- search -->
                <div class="search col-6 col-sm-7 col-md-6 col-lg-7 col-xl-6 col-xxl-8">
                    <input type="search" placeholder="Пошук" aria-label="Search" @bind="SearchRequest" />
                    <button type="submit" @onclick="Search">Пошук</button>
                </div>
                <div class="d-none d-lg-block col-lg-1 col-xl-1 col-xxl-1"></div>
                <div class="burger col-3 col-sm-2 col-md-2 col-lg-1 col-xl-1 col-xxl-1">
                    <AuthorizeView>
                        <Authorized>
                            <div class="btn-burger" onclick="dropDownMenu()"></div>
                        </Authorized>
                        <NotAuthorized>
                            <div @onclick="ShowSignModal" class="flip-card">
                                @if (IsShowSignModal)
                                {
                                    <div class="flip-card-active">
                                    </div>
                                }
                                else
                                {
                                    <div class="flip-card-inner">
                                        <div class="flip-card-front"></div>
                                        <div class="flip-card-back"></div>
                                    </div>
                                }
                            </div>
                            @*<div class="btn-burger-noauth" @onclick="ShowSignModal"></div>*@
                        </NotAuthorized>
                    </AuthorizeView>
                </div>
            </div>
        </div>
    </div>

    @*        <a href='personal/products'>Personal</a>
        <a href='add/product'>Add product</a>
        <div class="bg-empty">
        </div>*@
    <AuthorizeView Roles="manager">
        <Authorized>
            <div id="drop-down-menu" class="container-fluid">
                <div class="dropdownmenu-nav container">
                    <div class="row">
                        <ul class="cat-icon col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3">
                            <li><a onclick="hideMenu()" href='#'><div></div></a></li>
                            <li><a onclick="hideMenu()" id="cat-icon-name" href='#'>@@@UserName</a></li>
                        </ul>
                        <ul class="mMenu col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                            <li><a onclick="hideMenu()" href='/personal/products'>Покупки</a></li>
                            <li><a onclick="hideMenu()" href='/personal/favorite'>Улюблене</a></li>
                            <li><a onclick="hideMenu()" href='/add/product'>Додати товар</a></li>
                            <li><a onclick="hideMenu()" href='/personal/shop'>Мій магазин</a></li>
                            <li><a onclick="hideMenu()" href='personal/setting'>Налаштування</a></li>
                        </ul>
                        <ul @onclick="Logout" id="cat-icon-exit" class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3">
                            <li><a id="cat-exit-name" href='#'>Вихід</a></li>
                            <li><a href='#'><div></div></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </Authorized>
    </AuthorizeView>
    <AuthorizeView Roles="admin">
        <Authorized>
            <div id="drop-down-menu" class="container-fluid adminMenu">
                <div class="dropdownmenu-nav container">
                    <div class="row">
                        <ul class="cat-icon col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3">
                            <li><a onclick="hideMenu()" href='#'><div></div></a></li>
                            <li><a onclick="hideMenu()" id="cat-icon-name" href='#'>@@@UserName</a></li>
                        </ul>
                        <ul class="mMenu col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 col-xxl-12">
                            <li><a onclick="hideMenu()" href='/personal/products'>Покупки</a></li>
                            <li><a onclick="hideMenu()" href='/personal/favorite'>Улюблене</a></li>
                            <li><a onclick="hideMenu()" href='/add/product'>Додати товар</a></li>
                            <li><a onclick="hideMenu()" href='/personal/shop'>Мій магазин</a></li>
                            <li><a href='#' @onclick="TestException">Перевірка обробника помилок</a></li>
                            <li><a onclick="hideMenu()" href='personal/setting'>Налаштування</a></li>
                        </ul>
                        <ul @onclick="Logout" id="cat-icon-exit" class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 col-xxl-3">
                            <li><a id="cat-exit-name" href='#'>Вихід</a></li>
                            <li><a href='#'><div></div></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </Authorized>
    </AuthorizeView>

    <div id="content">
        <div class="main">
            <AuthorizeView>
                <NotAuthorized>
                    @if (IsShowSignModal)
                    {
                        <SignModal OnClose='@CloseSignModal'></SignModal>
                    }
                </NotAuthorized>
            </AuthorizeView>

            <div>
                @Body
                <PushMessageContainer Position="MessagePosition.BottomRight" TimeOut="5" />
            </div>
        </div>
        <footer>
            <h2>Чекаєм на ваші вподобайки</h2>
            <div class="footer-icons">
                <div><p>A</p></div>
                <div><p>B</p></div>
                <div><p>C</p></div>
            </div>
            <div>
                <h6><a href='#'>Політика конфіденційності</a></h6>
                <h6><a href='#'>Контакти</a></h6>
            </div>
            <h6>©Copyright 2022</h6>
        </footer>
    </div>
</div>